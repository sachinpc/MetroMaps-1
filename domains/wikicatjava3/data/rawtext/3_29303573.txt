openhmpp openhmpp hmpp for hybrid multicore parallel programming  programming standard for heterogeneous computing based on a set of compiler directives standard is a programming model designed to handle hardware accelerators without the complexity associated with gpu programming this approach based on directives has been implemented because they enable a loose relationship between an application code and the use of a hardware accelerator hwa introduction the openhmpp directivebased programming model offers a syntax to offload computations on hardware accelerators and to optimize data movement tofrom the hardware memory the model is based on works initialized by caps compiler and architecture for embedded and superscalar processors a common project from inria cnrs the university of rennes  and the insa of rennes openhmpp concept openhmpp is based on the concept of codelets functions that can be remotely executed on hwas the openhmpp codelet concept a codelet has the following properties these properties ensure that a codelet rpc can be remotely executed by a hwa this rpc and its associated data transfers can be asynchronous codelet rpcs hmpp provides synchronous and asynchronous rpc implementation of asynchronous operation is hardware dependent hmpp memory model hmpp considers two address spaces the host processor one and the hwa memory directives concept the openhmpp directives may be seen as metainformation added in the application source code they are safe metainformation ie they do not change the original code behavior they address the remote execution rpc of a function as well as the transfers of data tofrom the hwa memory the table below introduces the openhmpp directives openhmpp directives address different needs some of them are dedicated to declarations and others are dedicated to the management of the execution concept of set of directives one of the fundamental points of the hmpp approach is the concept of directives and their associated labels which makes it possible to expose a coherent structure on a whole set of directives disseminated in an application there are two kinds of labels openhmpp directives syntax in order to simplify the notations regular expressions will be used to describe the syntax of the hmpp directives the color convention below is used for the description of syntax directives general syntax the general syntax of openhmpp directives is pragma hmpp codeletlabel directivetype directiveparameters  hmpp codeletlabel directivetype directiveparameters  where directive parameters the parameters associated to a directive may be of different types below are the directive parameters defined in openhmpp openhmpp directives directives for declaring and executing a codelet a codice directive declares a computation to be remotely executed on a hardware accelerator for the codice directive the syntax of the directive is more than one codelet directive can be added to a function in order to specify different uses or different execution contexts however there can be only one codelet directive for a given call site label the codice directive specifies how the use a codelet at a given point in the program the syntax of the directive is an example is shown here  in some cases a specific management of the data throughout the application is required cpugpu data movements optimization shared variables the codice directive allows the declaration of a group of codelets the parameters defined in this directive are applied to all codelets belonging to the group the syntax of the directive is data transfers directives to optimize communication overhead when using a hwa the main bottleneck is often the data transfers between the hwa and the main processor to limit the communication overhead data transfers can be overlapped with successive executions of the same codelet by using the asynchronous property of the hwa the codice directive locks the hwa and allocates the needed amount of memory the codice directive specifies when to release the hwa for a group or a standalone codelet the codice directive prefetches data before the remote execution of the codelet the codice directive is a synchronization barrier to wait for an asynchronous codelet execution to complete and to then download the results the codice directive specifies to wait until the completion of an asynchronous callsite execution for the synchronize directive the codelet label is always mandatory and the group label is required if the codelet belongs to a group in the following example the device initialization memory allocation and upload of the input data are done only once outside the loop and not in each iteration of the loop the codice directive allows to wait for the asynchronous execution of the codelet to complete before launching another iteration finally the codice directive outside the loop uploads the sgemm result sharing data between codelets those directives map together all the arguments sharing the given name for all the group the types and dimensions of all mapped arguments must be identical the codice directive maps several arguments on the device this directive is quite similar as the codice directive except that the arguments to be mapped are directly specified by their name the codice directive is equivalent to multiple codice directives global variable the codice directive declares some variables as global within a group those variables can then be directly accessed from any codelet belonging to the group this directive applies to the declaration statement just following it in the source code the syntax of this directive is the notation codice with the prefix codice indicates an applications variable declared as resident acceleration of regions a region is a merge of the codeletcallsite directives the goal is to avoid code restructuration to build the codelet therefore all the attributes available for codice or codice directives can be used on codice directives in c language implementations the openhmpp open standard is based on hmpp version  may  caps entreprise the openhmpp directivebased programming model is implemented in openhmpp is used by hpc actors in oil  gas energy manufacturing finance education  research